<md-dialog aria-label="Edit working hours" flex-gt-md="60" flex="90">
    <form>
        <md-dialog-content ng-cloak="">
            <md-tabs layout-fill="true" md-dynamic-height>
                <md-tab label="Normal days">
                    <md-list>
                        <md-list-item
                                ng-repeat="(key, normalHour) in editCalendarCtrl.workingCalendar.normalWorkingDay.workingHours.toArray()">
                                <span ng-hide="editCalendarCtrl.normalOpen == key"
                                      ng-click="editCalendarCtrl.normalOpen = key">
                                    {{normalHour.fromHour | leadingZeros:2}}:{{normalHour.fromMinute | leadingZeros:2}} -
                                    {{normalHour.toHour | leadingZeros:2}}:{{normalHour.toMinute | leadingZeros:2}}
                                </span>
                                <span ng-show="editCalendarCtrl.normalOpen == key" layout="row">
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="normalHour.fromHour"/>
                                    </md-input-container>
                                    :
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="normalHour.fromMinute"/>
                                    </md-input-container>
                                    -
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="normalHour.toHour"/>
                                    </md-input-container>
                                    :
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="normalHour.toMinute"/>
                                    </md-input-container>
                                </span>
                            <img class="remove-icon" ng-src="img/remove.png"
                                 ng-click="editCalendarCtrl.deleteNormalWorkingHour(normalHour)"/>
                        </md-list-item>
                    </md-list>
                </md-tab>
                <md-tab label="All specific dates">
                    <md-list ng-show="editCalendarCtrl.workingDay == null">
                        <md-list-item
                                ng-repeat="(key, specialDay) in editCalendarCtrl.workingCalendar.specialDays.getDaysOrdered()">
                            <p>
                                <span>{{specialDay.date.toDateString()}}</span>
                                <img class="remove-icon" ng-src="img/remove.png"
                                     ng-click=""/>
                                <md-button class="md-primary" ng-click="editCalendarCtrl.editWorkingDay(specialDay)">Edit</md-button>
                            </p>
                        </md-list-item>
                        <div layout-margin>
                            <md-button class="md-primary" ng-click="editCalendarCtrl.addWorkingDay()">Add new working day</md-button>
                        </div>
                    </md-list>
                    <div layout="column" ng-show="editCalendarCtrl.workingDay != null">
                        <div layout-margin><input type="date" ng-model="editCalendarCtrl.workingDayDate"/></div>
                        <div layout-margin>
                            <md-button class="md-primary" ng-click="editCalendarCtrl.addWorkingHour()">Add new
                                workhours
                            </md-button>
                        </div>
                        <md-list>
                            <md-list-item
                                    ng-repeat="(key, wHour) in editCalendarCtrl.workingDay.workingHours.toArray()">
                                <div ng-hide="editCalendarCtrl.newOpen == key"
                                     ng-click="editCalendarCtrl.newOpen = key">
                                    {{wHour.fromHour | leadingZeros:2}}:{{wHour.fromMinute | leadingZeros:2}} -
                                    {{wHour.toHour | leadingZeros:2}}:{{wHour.toMinute | leadingZeros:2}}
                                </div>
                                <div ng-show="editCalendarCtrl.newOpen == key" layout="row">
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="wHour.fromHour"/>
                                    </md-input-container>
                                    :
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="wHour.fromMinute"/>
                                    </md-input-container>
                                    -
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="wHour.toHour"/>
                                    </md-input-container>
                                    :
                                    <md-input-container class="small">
                                        <input type="number" step="any" required
                                               ng-model="wHour.toMinute"/>
                                    </md-input-container>
                                    <md-button class="md-raised small"
                                               ng-click="editCalendarCtrl.deleteNormalWorkingHour(normalHour)">
                                        Remove
                                    </md-button>
                                </div>
                            </md-list-item>
                        </md-list>
                        <md-button ng-show="editCalenderCtrl.new" class="md-primary" ng-click="editCalendarCtrl.saveWorkingDay()">Cancel</md-button>
                        <md-button class="md-primary" ng-click="editCalendarCtrl.cancelWorkingDay()">Save</md-button>
                    </div>
                </md-tab>
            </md-tabs>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <span flex></span>
            <md-button class="md-primary" ng-click="editCalendarCtrl.close()">Close</md-button>
        </md-dialog-actions>
    </form>
</md-dialog>

